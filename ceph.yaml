Description: Mini Ceph cluster for experiment
series: bionic
applications:
  ceph-mon:
    charm: cs:ceph-mon-38
    num_units: 1
    to:
    - lxd:0
    bindings:
      public: external
  ceph-osd:
    charm: cs:ceph-osd-285
    num_units: 3
    to:
    - "0"
    - "1"
    - "2"
    bindings:
      cluster: internal
      public: external
    options:
      osd-devices: /dev/vdb 
  ceph-radosgw:
    charm: cs:ceph-radosgw-271
    num_units: 1
    to:
    - lxd:0
    bindings:
      admin: external
      public: external
machines:
  "0":
    constraints: cpu-cores=1 mem=1G root-disk=15G
  "1":
    constraints: cpu-cores=1 mem=1G root-disk=15G
  "2":
    constraints: cpu-cores=1 mem=1G root-disk=15G
relations:
- - ceph-osd:mon
  - ceph-mon:osd
- - ceph-radosgw:mon
  - ceph-mon:radosgw
